# Epic 3 Retrospective — Oops Button
**Date:** 2026-02-27
**Scope:** Epic 3 — Stories 3.1 and 3.2
**Facilitator:** Bob (SM)
**Participants:** Bob (SM), Amelia (Dev), Winston (Architect), John (PM), Quinn (QA)

---

## Epic Summary

Epic 3 delivered the full Oops button behaviour: short-press removes the last entered digit (Story 3.1), and long-press clears the entire equation with a visual progress ring (Story 3.2). Story 3.1 is fully documented. Story 3.2 has a documentation gap — tasks unchecked, Dev Agent Record empty — despite the functionality being verified correct.

| Story | Status | Key Deliverable | Documentation |
|---|---|---|---|
| 3.1 — Short-Press Oops | review | PRESS_OOPS handler for all 6 phase cases; Backspace keyboard binding | Complete — all tasks checked, Dev Agent Record filled |
| 3.2 — Long-Press Oops | review | LONG_PRESS_CLEAR handler; pointer event listeners; progress ring `.is-longpress`; Delete/Escape keys | **GAP — tasks unchecked, Dev Agent Record empty** |

---

## What Went Well

- **Story 3.1 is textbook.** Every task checked, completion notes written, all six phase cases for PRESS_OOPS handled correctly (including the subtle `second → operator` regression), Backspace key wired up, browser verification completed. Nothing to flag.
- **Long-press functionality works correctly.** Despite the documentation gap in Story 3.2, the implementation is correct — verified by Story 4.3 test suite (all 18 assertions pass, including oops behaviours) and by Story 4.4 desktop browser testing.
- **Ring animation delivered.** The `.is-longpress::after` conic-gradient ring animates correctly during hold, cancels cleanly on early release, and fires `LONG_PRESS_CLEAR` on completion.
- **`stopPropagation()` on oops click listener.** Task 2.6 of Story 3.2 prevents the delegated click handler on `calculatorEl` from double-dispatching `PRESS_OOPS` after `pointerup` has already handled it. Subtle but critical — one missed line would have caused every short-press to remove two digits.

---

## What Didn't Go Well

- **Story 3.2 documentation gap (primary finding).** All tasks are `[ ]` unchecked. Dev Agent Record is `_to be filled by dev agent_`. The story was moved to `review` status without completing the documentation trail. This means:
  - No evidence of which tasks were completed when
  - No record of implementation decisions (e.g. the `stopPropagation()` rationale)
  - No file list
  - A future developer reading the story file would have no confidence the work was done
- **Root cause:** The dev agent completed the implementation and moved the story to review without circling back to fill the record. Likely a context-window or workflow adherence issue.
- **Mitigation:** The work itself is correct and fully externally verified. The gap is documentation-only.

---

## Action Items

Action A1 from the full-project retrospective (epic-4-retro-2026-02-27.md) directly addresses this:

> **A1:** Dev agent must fill task checkboxes and Dev Agent Record before marking story "review"

No additional actions specific to Epic 3.

---

## Readiness Assessment

Both stories verified correct by Story 4.3 test suite and Story 4.4 device testing. All acceptance criteria satisfied. The documentation gap in Story 3.2 is a process failure, not a functional failure.

**Epic 3 status: COMPLETE** (with noted documentation gap in Story 3.2)
